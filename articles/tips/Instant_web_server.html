<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Instant web server &mdash; JNRowe</title>
    
    <link rel="stylesheet" href="../../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="JNRowe" href="../../index.html" />
    <link rel="up" title="Tips" href="index.html" />
    <link rel="next" title="‘Kick me’ birthday reminders" href="Kick_me_birthday_reminders.html" />
    <link rel="prev" title="Importing gmail filters in mutt" href="Importing_gmail_filters_in_mutt.html" />
    <link rel="alternate" type="application/atom+xml" title="Updated items" href="/updates.atom" />
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="../../index.html">
            <img class="logo" src="../../_static/logo.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../../index.html">JNRowe</a></div>
        <div class="rel">
          <a href="Importing_gmail_filters_in_mutt.html" title="Importing gmail filters in mutt"
             accesskey="P">previous</a> |
          <a href="Kick_me_birthday_reminders.html" title="‘Kick me’ birthday reminders"
             accesskey="N">next</a> |
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
    <div class="admonition note">
        <p class="first admonition-title">
            Estimated reading time: 3 minutes
        </p>
    </div>
    
    
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="instant-web-server">
<h1>Instant web server<a class="headerlink" href="#instant-web-server" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">2009-10-12</td>
</tr>
</tbody>
</table>
<p>Among the topics on our Linux list at work today was a question from Luke
Fletcher that I was expecting to unleash a flurry of emotional responses:</p>
<blockquote>
<div>What is the best small web server for testing site design and the like?</div></blockquote>
<p>There were a couple of predictable rants about the benefits and drawbacks of
threading models.  Along with a couple of other topics entirely unhelpful for
the question at hand, but surprisingly little dissent over the choices.</p>
<p>Matt Traner&#8217;s reply sums up the general feeling quite nicely:</p>
<blockquote>
<div>Just use whatever server you have installed already.  If you don&#8217;t have
<em>any</em> installed grab <a class="reference external" href="http://nginx.net/">nginx</a> as it works well and is quite small.</div></blockquote>
<p>I agree with Matt&#8217;s answer but I want to point a couple of possibly non-obvious
web servers that they, and you, are likely to have installed already.</p>
<div class="section" id="busybox">
<h2>Busybox<a class="headerlink" href="#busybox" title="Permalink to this headline">¶</a></h2>
<p>All our Linux systems at the office include <a class="reference external" href="http://www.busybox.net/">busybox</a>, and in the configuration
we use the <a class="reference external" href="http://www.busybox.net/downloads/BusyBox.html#httpd">httpd</a> applet is built.  It is very lightweight, and incredibly
stable.  I often use it when testing or as a weak way to transfer files between
hosts when <a class="reference external" href="http://avahi.org/">avahi</a> isn&#8217;t available or is too much hassle.  In my <a class="reference external" href="http://cnswww.cns.cwru.edu/~chet/bash/bashtop.html">bash</a>
configuration I have a little functions to start up a <tt class="docutils literal"><span class="pre">busybox</span> <span class="pre">httpd</span></tt> server:</p>
<div class="highlight-bash"><div class="highlight"><pre>http_serve<span class="o">()</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;${1}&quot;</span> <span class="o">=</span> <span class="s2">&quot;--help&quot;</span> <span class="o">]</span>
    <span class="k">then</span>
<span class="k">        </span><span class="nb">echo</span> <span class="s2">&quot;Usage:  ${FUNCNAME} [location]&quot;</span>
        <span class="nb">echo</span> <span class="s2">&quot;Start a httpd in \`location&#39;, defaulting to \`${http_serve_location}&#39;.&quot;</span>
        <span class="k">return </span>1
    <span class="k">fi</span>
<span class="k">    </span>busybox httpd -f -p 8080 -h <span class="k">${</span><span class="nv">1</span><span class="k">:-${</span><span class="nv">http_serve_location</span><span class="k">}}</span>
<span class="o">}</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/208887">Fork this code</a></p>
<p><tt class="docutils literal"><span class="pre">http_serve_location</span></tt> is set elsewhere in my configuration file, so that I can
keep per-machine settings separate.</p>
</div>
<div class="section" id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.python.org/">Python</a> comes with its own basic web server, and it is very easy to use:</p>
<div class="highlight-text"><div class="highlight"><pre>~/Desktop/jnrowe.github.com/_site $ python2.6 -m SimpleHTTPServer 8080
Serving HTTP on 0.0.0.0 port 8080 ...
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET / HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/content.css HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/design.css HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/pygments.css HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/microformats.css HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/print.css HTTP/1.1&quot; 200 -
kate.localdomain - - [13/Oct/2009 01:16:51] &quot;GET /css/voice.css HTTP/1.1&quot; 200 -
~/Desktop/jnrowe.github.com/_site $ python3.1 -m http.server 8080
Serving HTTP on 0.0.0.0 port 8080 ...
kate.localdomain - - [13/Oct/2009 01:17:23] &quot;GET /2009/10/12/TaD-Instant_web_server.html HTTP/1.1&quot; 200 -
</pre></div>
</div>
<p>Note that the name of the module has changed from <tt class="docutils literal"><span class="pre">SimpleHTTPServer</span></tt> to
<tt class="docutils literal"><span class="pre">http.server</span></tt> for Python v3 and above.</p>
<p>I&#8217;ve specified the port 8080 to both calls in the snippet above, by default the
server port would be 8000.  If port 8000 is acceptable for you then you can save
yourself five keystrokes.</p>
</div>
<div class="section" id="ruby">
<h2>Ruby<a class="headerlink" href="#ruby" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.ruby-lang.org/">ruby</a> also comes with its own web server, one that you&#8217;re probably already
familiar with if you&#8217;re a <a class="reference external" href="http://www.rubyonrails.org/">rails</a> user, called <a class="reference external" href="http://www.webrick.org/">webrick</a>.  We need a little script
to use <tt class="docutils literal"><span class="pre">webrick</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span class="c1">#! /usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">&quot;webrick&quot;</span>

<span class="n">server</span> <span class="o">=</span> <span class="ss">WEBrick</span><span class="p">:</span><span class="ss">:HTTPServer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
    <span class="ss">:BindAddress</span> <span class="o">=&gt;</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
    <span class="ss">:Port</span> <span class="o">=&gt;</span> <span class="mi">8080</span><span class="p">,</span>
    <span class="ss">:DocumentRoot</span> <span class="o">=&gt;</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
<span class="p">)</span>

<span class="nb">trap</span><span class="p">(</span><span class="s2">&quot;INT&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="n">server</span><span class="o">.</span><span class="n">shutdown</span> <span class="p">}</span>

<span class="n">server</span><span class="o">.</span><span class="n">start</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/208891">Fork this code</a></p>
<p>This script will serve files from whatever directory is specified as its first
argument.</p>
</div>
<div class="section" id="bonus">
<h2>Bonus<a class="headerlink" href="#bonus" title="Permalink to this headline">¶</a></h2>
<p>Python also comes with a <abbr title="Common Gateway Interface">CGI</abbr>-capable version called
<tt class="docutils literal"><span class="pre">CGIHTTPServer</span></tt> and a <abbr title="Extensible Markup Language">XML</abbr>-<abbr title="Remote Procedure Call">RPC</abbr>
server called &#8211; this shouldn&#8217;t come as a surprise &#8211; <tt class="docutils literal"><span class="pre">SimpleXMLRPCServer</span></tt>.
They&#8217;re very useful for testing out ideas and concepts without having to set
down lots of code.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Articles</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dopplr_effects.html">Dopplr defects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../important_balance.html">Murdering morality with ferocious fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nice_stories.html">Tell me a nice story, please</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rcs.html">Introduction to RCS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reset_in_ten.html">Hitting life&#8217;s reset button</a></li>
<li class="toctree-l2"><a class="reference internal" href="../side_projects.html">Side-projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tdd_distros.html">TDD distro development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../the_returned.html">Return to rambling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../colophon.html">Colophon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../consult.html">Consulting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright information</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="Importing_gmail_filters_in_mutt.html" title="Importing gmail filters in mutt"
             >previous</a> |
          <a href="Kick_me_birthday_reminders.html" title="‘Kick me’ birthday reminders"
             >next</a> |
          <a href="../../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../../_sources/articles/tips/Instant_web_server.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; <a href="../../copyright.html">Copyright</a> 2009-2014, James Rowe.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>