

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Finding a window’s owner &mdash; JNRowe</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="copyright" title="Copyright" href="../../copyright.html"/>
    <link rel="top" title="JNRowe" href="../../index.html"/>
        <link rel="up" title="Tips" href="index.html"/>
        <link rel="next" title="Formatting CSV files in the shell" href="Formatting_csv_files_in_the_shell.html"/>
        <link rel="prev" title="Fancy awesome theming" href="Fancy_awesome_theming.html"/>
    <link rel="alternate" type="application/atom+xml" title="Updated items" href="/updates.atom" />

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> JNRowe</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../projects.html#forks-i-m-hacking-on">Forks I&#8217;m hacking on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../projects.html#git-mirrors-of-projects-i-m-hacking-on">Git mirrors of projects I&#8217;m hacking on</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Articles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo.html">Dropping Gentoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo_reflex.html">Dropping Gentoo reflex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fossil.html"><tt class="docutils literal"><span class="pre">fossil</span></tt> experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rcs.html">Introduction to RCS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tdd_distros.html">TDD distro development</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#further-categories">Further categories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../thoughts/index.html">Thoughts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/burn_out.html">Open Source and enjoyment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/burn_out.html#the-solutions">The solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/delayed_flashover.html">Delayed flashover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/disconnect.html">Cleanse thy soul</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/dopplr_effects.html">Dopplr defects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/important_balance.html">Murdering morality with ferocious fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/nice_stories.html">Tell me a nice story, please</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/reset_in_ten.html">Hitting life&#8217;s reset button</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/side_projects.html">Side-projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/the_returned.html">Return to rambling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../colophon.html">Colophon</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../colophon.html#content-creation">Content creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../colophon.html#and-finally">And finally...</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../consult.html">Consulting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright information</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">JNRowe</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Articles</a> &raquo;</li>
      
          <li><a href="index.html">Tips</a> &raquo;</li>
      
    <li>Finding a window&#8217;s owner</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/articles/tips/Finding_a_windows_owner.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
    <div class="admonition note">
        <p class="first admonition-title">
            Estimated reading time: 1 minutes
        </p>
    </div>
    
    
            
  <div class="section" id="finding-a-window-s-owner">
<h1>Finding a window&#8217;s owner<a class="headerlink" href="#finding-a-window-s-owner" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">2009-10-06</td>
</tr>
</tbody>
</table>
<p>Rach Holmes asks on our Linux list:</p>
<blockquote>
<div>How do I find out what app keeps opening that annoying window in gnome?</div></blockquote>
<p>Jack McIntyre made a couple of outstanding correct guesses, but predictably Rach
still wanted to know a generic solution and I offer this tip in response.</p>
<div class="section" id="the-easy-way">
<h2>The easy way<a class="headerlink" href="#the-easy-way" title="Permalink to this headline">¶</a></h2>
<p>Many windows define a <tt class="docutils literal"><span class="pre">WM_COMMAND</span></tt> property that is set to the command name of
the application, if that exists all we have to do is read it:</p>
<div class="highlight-text"><div class="highlight"><pre>$ xprop  | grep WM_COMMAND
WM_COMMAND(STRING) = { &quot;urxvt&quot;, &quot;-cd&quot;, &quot;/home/jay/Desktop&quot; }
</pre></div>
</div>
<p>However, not all applications set this property.  Examples of applications that
don&#8217;t set this property include <a class="reference external" href="http://www.mozilla.com/firefox">firefox</a> and <a class="reference external" href="http://www.gimp.org/">gimp</a>.  In fact, many of the modern
applications you find on desktop systems don&#8217;t set this property at all.</p>
</div>
<div class="section" id="the-other-way">
<h2>The other way<a class="headerlink" href="#the-other-way" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://standards.freedesktop.org/wm-spec/wm-spec-1.3.html">EWMH</a>, the Extended Window Manager Hints standard, defines a property called
<tt class="docutils literal"><span class="pre">_NET_WM_PID</span></tt> that, if defined, is the process id of the application that
opened the window.  We have a couple of options to access that property, my
favourite would be <a class="reference external" href="http://sweb.cz/tripie/utils/wmctrl/">wmctrl</a> and another would be <a class="reference external" href="http://www.xfree86.org/current/xprop.1.html">xprop</a> which is often installed
by default.</p>
<div class="highlight-text"><div class="highlight"><pre>$ wmctrl -lp
0x01200003  2 13398  kate 2009-10-06-TaD-Finding_a_windows_owner.textile [+] - gvim
0x01000006  3 9992   kate Irssi: [JNR___@freenode] [#github]
0x00c00005  1 10134  kate SpotMe - Opera
0x00600019  0 9992   kate jay@kate:~/Desktop/jnrowe.github.io
$ xprop | awk &#39;/_NET_WM_PID/ {print $NF}&#39;
9992
$ tr &#39;\000&#39;  &#39; &#39; &lt; /proc/9992/cmdline
/usr/bin/urxvtd -q -f -o
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">wmctrl</span></tt> output has five aligned columns.  The first is the window id, the
second the desktop is visible on, the third is the process id, the fourth is the
client machine and the fifth is the window&#8217;s title string.  And with the <tt class="docutils literal"><span class="pre">xprop</span></tt>
example we must select a window with the mouse when calling <tt class="docutils literal"><span class="pre">xprop</span></tt>, and then we
pluck the process id from the output.</p>
<p>The <tt class="docutils literal"><span class="pre">cmdline</span></tt> value for the process from <a class="reference external" href="http://blogs.sun.com/eschrock/entry/the_power_of_proc">procfs</a> is finally read.  The <tt class="docutils literal"><span class="pre">tr</span></tt>
command is needed because options are separated by null terminators.</p>
</div>
<div class="section" id="the-problems">
<h2>The problems<a class="headerlink" href="#the-problems" title="Permalink to this headline">¶</a></h2>
<p>Back to the original question and Rach was looking for a way to stop the window
from showing up, the immediate response to the annoying window problem is to
find its process id and send it a <tt class="docutils literal"><span class="pre">SIGTERM</span></tt>.  It seems like a reasonable idea,
but I&#8217;ve been choosing the <tt class="docutils literal"><span class="pre">urxvtd</span></tt> examples on purpose to prove a point.</p>
<p><tt class="docutils literal"><span class="pre">urxvtd</span></tt> is the terminal daemon provided by <a class="reference external" href="http://software.schmorp.de/">rxvt-unicode</a>, all terminals that
are spawned by it will have the same <tt class="docutils literal"><span class="pre">_NET_WM_PID</span></tt> value and <tt class="docutils literal"><span class="pre">WM_COMMAND</span></tt>
string.  This isn&#8217;t just an issue with <tt class="docutils literal"><span class="pre">urxvtd</span></tt> either, it happens with all
applications that operate in this way.  Sending a <tt class="docutils literal"><span class="pre">SIGTERM</span></tt> to every terminal
opened by <tt class="docutils literal"><span class="pre">urxvtd</span></tt> probably isn&#8217;t what we would want to do, so you should
always think very carefully before sending terminate signals.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Formatting_csv_files_in_the_shell.html" class="btn btn-neutral float-right" title="Formatting CSV files in the shell"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Fancy_awesome_theming.html" class="btn btn-neutral" title="Fancy awesome theming"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../../copyright.html">Copyright</a> 2009-2014, James Rowe.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>