
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Finding a window’s owner &#8212; JNRowe</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Formatting CSV files in the shell" href="Formatting_csv_files_in_the_shell.html" />
    <link rel="prev" title="Fancy awesome theming" href="Fancy_awesome_theming.html" />
  
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="JNRowe">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
    <p class="read-time">
      <b>Estimated reading time</b>:
      2 minutes
    </p>
  

  <div class="section" id="finding-a-windows-owner">
<h1>Finding a window’s owner<a class="headerlink" href="#finding-a-windows-owner" title="Permalink to this headline">¶</a></h1>
<p>Rach Holmes asks on our Linux list:</p>
<blockquote>
<div><p>How do I find out what app keeps opening that annoying window in gnome?</p>
</div></blockquote>
<p>Jack McIntyre made a couple of outstanding correct guesses, but predictably Rach
still wanted to know a generic solution and I offer this tip in response.</p>
<div class="section" id="the-easy-way">
<h2>The easy way<a class="headerlink" href="#the-easy-way" title="Permalink to this headline">¶</a></h2>
<p>Many windows define a <code class="docutils literal notranslate"><span class="pre">WM_COMMAND</span></code> property that is set to the command name of
the application, if that exists all we have to do is read it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> xprop <span class="p">|</span> grep WM_COMMAND
<span class="go">WM_COMMAND(STRING) = { &quot;urxvt&quot;, &quot;-cd&quot;, &quot;/home/jay/Desktop&quot; }</span>
</pre></div>
</div>
<p>However, not all applications set this property.  Examples of applications that
don’t set this property include <a class="reference external" href="http://www.mozilla.com/firefox">firefox</a> and <a class="reference external" href="http://www.gimp.org/">gimp</a>.  In fact, many of the modern
applications you find on desktop systems don’t set this property at all.</p>
</div>
<div class="section" id="the-other-way">
<h2>The other way<a class="headerlink" href="#the-other-way" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://standards.freedesktop.org/wm-spec/wm-spec-1.3.html">EWMH</a>, the Extended Window Manager Hints standard, defines a property called
<code class="docutils literal notranslate"><span class="pre">_NET_WM_PID</span></code> that, if defined, is the process id of the application that
opened the window.  We have a couple of options to access that property, my
favourite would be <a class="reference external" href="http://sweb.cz/tripie/utils/wmctrl/">wmctrl</a> and another would be <a class="reference external" href="http://www.xfree86.org/current/xprop.1.html">xprop</a> which is often installed
by default.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> wmctrl -lp
<span class="go">0x01200003  2 13398  kate 2009-10-06-TaD-Finding_a_windows_owner.textile [+] - gvim</span>
<span class="go">0x01000006  3 9992   kate Irssi: [JNR___@freenode] [#github]</span>
<span class="go">0x00c00005  1 10134  kate SpotMe - Opera</span>
<span class="go">0x00600019  0 9992   kate jay@kate:~/Desktop/jnrowe.github.io</span>
<span class="gp">$</span> xprop <span class="p">|</span> awk <span class="s1">&#39;/_NET_WM_PID/ {print $NF}&#39;</span>
<span class="go">9992</span>
<span class="gp">$</span> tr <span class="s1">&#39;\000&#39;</span>  <span class="s1">&#39; &#39;</span> &lt; /proc/9992/cmdline
<span class="go">/usr/bin/urxvtd -q -f -o</span>
</pre></div>
</div>
<p>The <strong class="command">wmctrl</strong> output has five space aligned columns.  The first is the
window id, the second the desktop is visible on, the third is the process id,
the fourth is the client machine and the fifth is the window’s title string.
And with the <strong class="command">xprop</strong> example we must select a window with the mouse
when calling <strong class="command">xprop</strong>, and then we pluck the process id from the
output.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">cmdline</span></code> value for the process from <a class="reference external" href="http://blogs.sun.com/eschrock/entry/the_power_of_proc">procfs</a> is finally read.  The
<strong class="command">tr</strong> command is needed because options are separated by null
terminators.</p>
</div>
<div class="section" id="the-problems">
<h2>The problems<a class="headerlink" href="#the-problems" title="Permalink to this headline">¶</a></h2>
<p>Back to the original question and Rach was looking for a way to stop the window
from showing up, the immediate response to the annoying window problem is to
find its process id and send it a <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code>.  It seems like a reasonable idea,
but I’ve been choosing the <strong class="command">urxvtd</strong> examples on purpose to prove
a point.</p>
<p><strong class="command">urxvtd</strong> is the terminal daemon provided by <a class="reference external" href="http://software.schmorp.de/">rxvt-unicode</a>, all
terminals that are spawned by it will have the same <code class="docutils literal notranslate"><span class="pre">_NET_WM_PID</span></code> value and
<code class="docutils literal notranslate"><span class="pre">WM_COMMAND</span></code> string.  This isn’t just an issue with <strong class="command">urxvtd</strong> either,
it happens with all applications that operate in this way.  Sending
a <code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code> to every terminal opened by <strong class="command">urxvtd</strong> probably isn’t what
we would want to do, so you should always think very carefully before sending
terminate signals.</p>
</div>
</div>

    <p class="keybase-verify">
      Authenticate this page by pasting <a
        href="https://raw.githubusercontent.com/JNRowe/jnrowe.github.io/source/articles/tips/Finding_a_windows_owner.rst.asc">this signature</a> into
      <a href="https://keybase.io/verify">Keybase</a>.
    </p>
  

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  Previous: 
  <a href="Sharing_Xresources_between_systems.html">
    
    Sharing Xresources between systems
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
  Next: 
  <a href="BTS_as_a_task_manager.html">
    BTS as a task manager
    
  </a>
  </span>
  
</div>

  
  
  </div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo"/>
    
  </a>
</p>









  
  
  <h2>
  
  
    2009-10-06
  
  </h2>

  <ul>
    

  

  

  

  

  
  <li id="tags"><span>Tag:
    
      
      <a href="../../blog/tag/x11.html">X11</a>
      
    </li>
  
  
  </ul>


<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Articles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo.html">Dropping Gentoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo_reflex.html">Dropping Gentoo reflex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fossil.html"><strong class="command">fossil</strong> experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mutt_config_snippets.html"><strong class="command">mutt</strong> configuration snippets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rcs.html">Introduction to <abbr title="GNU Revision Control System">RCS</abbr></a></li>
<li class="toctree-l2"><a class="reference internal" href="../tdd_distros.html"><abbr title="Test Driven Development">TDD</abbr> distro development</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#further-categories">Further categories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../thoughts/index.html">Thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../colophon.html">Colophon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../consult.html">Consulting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>


  <h3><a href="../../blog.html">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../../thoughts/brexit_through_the_gift_shop.html">08 June - brexit through the gift shop</a></li>
    
      <li><a href="../../thoughts/metro_city.html">03 September - Burning down the streets</a></li>
    
      <li><a href="../fossil.html">12 November - fossil experiments</a></li>
    
      <li><a href="../../thoughts/disconnect.html">18 September - Cleanse thy soul</a></li>
    
      <li><a href="../../thoughts/burn_out.html">03 September - Open Source and enjoyment</a></li>
    
  </ul>

  <h3><a href="../../blog/tag.html">Tags</a></h3>
  <style type="text/css">
    ul.ablog-cloud {list-style: none; overflow: auto;}
    ul.ablog-cloud li {float: left; height: 20pt; line-height: 18pt; margin-right: 5px;}
    ul.ablog-cloud a {text-decoration: none; vertical-align: middle;}
    li.ablog-cloud-1{font-size: 80%;}
    li.ablog-cloud-2{font-size: 95%;}
    li.ablog-cloud-3{font-size: 110%;}
    li.ablog-cloud-4{font-size: 125%;}
    li.ablog-cloud-5{font-size: 140%;}
  </style>
  <ul class="ablog-cloud">
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/gtk.html">GTK+</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/x11.html">X11</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/abook.html">abook</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/awesome.html">awesome</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/bash.html">bash</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/blog.html">blog</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/bts.html">bts</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/bugzilla.html">bugzilla</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/burnout.html">burnout</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/configs.html">configs</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/csv.html">csv</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/denoise.html">denoise</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/devel.html">devel</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/development.html">development</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/emacs.html">emacs</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/focus.html">focus</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/fossil.html">fossil</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/gentoo.html">gentoo</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/git.html">git</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/gmail.html">gmail</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/history.html">history</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/hobbies.html">hobbies</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/jnrowe-misc.html">jnrowe-misc</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../../blog/tag/life.html">life</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/linux.html">linux</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/mail.html">mail</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/mutt.html">mutt</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/net.html">net</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/noise.html">noise</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/oss.html">oss</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/politics.html">politics</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/privacy.html">privacy</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/probit.html">probit</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/projects.html">projects</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/python.html">python</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/readline.html">readline</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/remind.html">remind</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/site.html">site</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/software.html">software</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-5">
        <a href="../../blog/tag/styling.html">styling</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/sup.html">sup</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/testing.html">testing</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/three.html">three</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-2">
        <a href="../../blog/tag/unix.html">unix</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-4">
        <a href="../../blog/tag/vcs.html">vcs</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/vim.html">vim</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/web.html">web</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-3">
        <a href="../../blog/tag/work.html">work</a></li>
      
    
      
      <li class="ablog-cloud ablog-cloud-1">
        <a href="../../blog/tag/zsh.html">zsh</a></li>
      
    
  </ul>

  <h3><a href="../../blog/archive.html">Archives</a></h3>
  <ul>
  
    
    <li><a href="../../blog/2018.html">2018 (1)</a></li>
    
  
    
    <li><a href="../../blog/2017.html">2017 (1)</a></li>
    
  
    
    <li><a href="../../blog/2014.html">2014 (12)</a></li>
    
  
    
    <li><a href="../../blog/2013.html">2013 (2)</a></li>
    
  
    
    <li><a href="../../blog/2011.html">2011 (1)</a></li>
    
  
    
    <li><a href="../../blog/2010.html">2010 (1)</a></li>
    
  
    
    <li><a href="../../blog/2009.html">2009 (24)</a></li>
    
  
    
    <li><a href="../../blog/2007.html">2007 (2)</a></li>
    
  
    
    <li><a href="../../blog/2003.html">2003 (1)</a></li>
    
  
  </ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2009-2018  James Rowe.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
    </div>

    

    
  </body>
</html>