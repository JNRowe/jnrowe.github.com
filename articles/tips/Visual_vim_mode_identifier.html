<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Visual vim mode identifier &mdash; JNRowe</title>
    
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="JNRowe" href="../../index.html" />
    <link rel="up" title="Tips" href="index.html" />
    <link rel="next" title="Zsh and the VCS" href="Zsh_and_the_vcs.html" />
    <link rel="prev" title="Uber pink prompts" href="Uber_pink_prompts.html" />
    <link rel="alternate" type="application/atom+xml" title="Updated items" href="/updates.atom" />
  </head>
  <body>
      <div class="header"><img class="rightlogo" src="../../_static/logo.png" alt="Logo"/><h1 class="heading"><a href="../../index.html">
          <span>JNRowe</span></a></h1>
        <h2 class="heading"><span>Visual vim mode identifier</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="Uber_pink_prompts.html">Uber pink prompts</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Zsh_and_the_vcs.html">Zsh and the VCS</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="visual-vim-mode-identifier">
<h1>Visual vim mode identifier<a class="headerlink" href="#visual-vim-mode-identifier" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">2009-10-13</td>
</tr>
</tbody>
</table>
<p>Paul Kerry rants about his problems with <a class="reference external" href="http://www.vim.org/">vim</a> over the cooler today, and as
a long time <tt class="docutils literal"><span class="pre">vim</span></tt> user I found it hard not to respond to some of the points.</p>
<blockquote>
<div>All this mode switching makes it hard to know whether typing &#8220;Paul&#8221; is going
to insert a huge block of code from the ether or insert, you know, &#8220;Paul&#8221; on
the screen.</div></blockquote>
<p>The point Paul is making is that when he is in <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/intro.html#vim-modes">normal mode</a>, typing the &#8220;P&#8221; of
&#8220;Paul&#8221; can cause <tt class="docutils literal"><span class="pre">vim</span></tt> to insert a huge amount of text at the cursor.  The
text comes from the <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/change.html#quote">unnamed register</a>, so it will be whatever potentially very
large chunk of text he deleted or <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/change.html#yank">yanked</a> last.</p>
<img alt="mode identifier in vim" class="align-right" src="../../_images/2009-10-13-vim_screenshot.png" />
<p>If he had just added <tt class="docutils literal"><span class="pre">set</span> <span class="pre">showmode</span></tt> to his <tt class="docutils literal"><span class="pre">~/.vimrc</span></tt> he would have a nice <tt class="docutils literal"><span class="pre">--</span>
<span class="pre">INSERT</span> <span class="pre">--</span></tt> reminder in the bottom of his terminal window when in insert mode, as
can be seen in the screenshot on the right.</p>
<p>Another option that I use, combined with <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/options.html#'showmode'">showmode</a>, is to change the cursor
colour when switching to and from <tt class="docutils literal"><span class="pre">insert</span></tt> mode.  This unfortunately doesn&#8217;t
work on all terminal types, which means you have to test them individually and
then set appropriate values for <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/term.html#'t_SI'">t_SI</a> and <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/term.html#'t_EI'">t_EI</a> on each terminal type.  An
example for <a class="reference external" href="http://rxvt.sourceforge.net/">rxvt</a>-based terminals, including my favourite <a class="reference external" href="http://software.schmorp.de/">rxvt-unicode</a>, is
below:</p>
<div class="highlight-vim"><div class="highlight"><pre><span class="k">if</span> &amp;<span class="nb">term</span> <span class="p">=~</span>? <span class="s1">&#39;^rxvt&#39;</span> &amp;&amp; exists<span class="p">(</span><span class="s1">&#39;&amp;t_EI&#39;</span><span class="p">)</span>
    <span class="k">let</span> &amp;<span class="nb">t_EI</span><span class="p">=</span><span class="s2">&quot;\033]12;red\007&quot;</span>
    <span class="k">let</span> &amp;<span class="nb">t_SI</span><span class="p">=</span><span class="s2">&quot;\033]12;green\007&quot;</span>
<span class="k">endif</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/209913">Fork this code</a></p>
<p>I use a green cursor to indicate <tt class="docutils literal"><span class="pre">insert</span></tt> mode, I tried a number of alternatives
but found keeping the same cursor colour as my shell sessions was the most
useful for me.  You can use any colour your terminal supports, including the
extended 256 colour palette.  For more information on accessing the colours from
the extended palette see the earlier <a class="reference internal" href="Uber_pink_prompts.html"><em>Uber pink prompts</em></a> tip.</p>
<p>You can also use the <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/autocmd.html#InsertEnter">InsertEnter</a> and <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/autocmd.html#InsertLeave">InsertLeave</a> events to call a function
when changing mode.  There really is no limit to what kind of notifications you
can use with this method.  Taking the idea too far we could use the <a class="reference external" href="http://awesome.naquadah.org/">awesome</a>
notifications from <a class="reference internal" href="Simple_notifications_in_awesome.html"><em>Simple notifications in awesome</em></a> to display popups
when we change mode:</p>
<div class="highlight-vim"><div class="highlight"><pre><span class="k">au</span> <span class="nb">InsertEnter</span> * <span class="p">!</span>echo <span class="s2">&quot;notify.start(&#39;Insert mode started&#39;)&quot;</span> <span class="p">|</span> awesome<span class="p">-</span>client
<span class="k">au</span> <span class="nb">InsertLeave</span> * <span class="p">!</span>echo <span class="s2">&quot;notify.stop(&#39;Insert mode finished&#39;)&quot;</span> <span class="p">|</span> awesome<span class="p">-</span>client
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/209915">Fork this code</a></p>
<p>Note that I didn&#8217;t say it was a good idea, just that it was possible!</p>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="Uber_pink_prompts.html">Uber pink prompts</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Zsh_and_the_vcs.html">Zsh and the VCS</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; <a href="../../copyright.html">Copyright</a> 2009-2014, James Rowe.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>