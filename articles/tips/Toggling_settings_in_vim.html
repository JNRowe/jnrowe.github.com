

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Toggling settings in vim &mdash; JNRowe</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="copyright" title="Copyright" href="../../copyright.html"/>
    <link rel="top" title="JNRowe" href="../../index.html"/>
        <link rel="up" title="Tips" href="index.html"/>
        <link rel="next" title="Uber pink prompts" href="Uber_pink_prompts.html"/>
        <link rel="prev" title="Three mobile broadband in Linux" href="Three_mobile_broadband_in_linux.html"/>
    <link rel="alternate" type="application/atom+xml" title="Updated items" href="/updates.atom" />

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> JNRowe</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../projects.html">Projects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../projects.html#forks-i-m-hacking-on">Forks I&#8217;m hacking on</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../projects.html#git-mirrors-of-projects-i-m-hacking-on">Git mirrors of projects I&#8217;m hacking on</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Articles</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo.html">Dropping Gentoo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dropping_gentoo_reflex.html">Dropping Gentoo reflex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fossil.html"><tt class="docutils literal"><span class="pre">fossil</span></tt> experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rcs.html">Introduction to RCS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tdd_distros.html">TDD distro development</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#further-categories">Further categories</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../thoughts/index.html">Thoughts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/burn_out.html">Open Source and enjoyment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/burn_out.html#the-solutions">The solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/delayed_flashover.html">Delayed flashover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/disconnect.html">Cleanse thy soul</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/dopplr_effects.html">Dopplr defects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/important_balance.html">Murdering morality with ferocious fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/nice_stories.html">Tell me a nice story, please</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/reset_in_ten.html">Hitting life&#8217;s reset button</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/side_projects.html">Side-projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../thoughts/the_returned.html">Return to rambling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../colophon.html">Colophon</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../colophon.html#content-creation">Content creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../colophon.html#and-finally">And finally...</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../consult.html">Consulting services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright information</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">JNRowe</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Articles</a> &raquo;</li>
      
          <li><a href="index.html">Tips</a> &raquo;</li>
      
    <li>Toggling settings in vim</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/articles/tips/Toggling_settings_in_vim.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
    <div class="admonition note">
        <p class="first admonition-title">
            Estimated reading time: 1 minutes
        </p>
    </div>
    
    
            
  <div class="section" id="toggling-settings-in-vim">
<h1>Toggling settings in vim<a class="headerlink" href="#toggling-settings-in-vim" title="Permalink to this headline">Â¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">date:</th><td class="field-body">2009-10-02</td>
</tr>
</tbody>
</table>
<p>As you can never have enough keybinding tips and <a class="reference external" href="http://www.vim.org">vim</a> helps to prove that, the
tip for today answers Joshua&#8217;s question from <tt class="docutils literal"><span class="pre">##purplism</span></tt></p>
<blockquote>
<div>can you toggle settings in vim with a key?</div></blockquote>
<p>The simple answer is yes, but how easy it is depends on what you&#8217;re trying to
toggle.  We need a state to test when toggling settings, so as long as we can
query the setting toggling it is easy.  For example, I have a binding in my
<tt class="docutils literal"><span class="pre">~/.vimrc</span></tt> to toggle the value of <a class="reference external" href="http://vimdoc.sourceforge.net/htmldoc/options.html#'background'">background</a>.  As I use transparent terminals
the colours used for syntax highlighting can occasionally get a little difficult
to read depending on the wallpaper I&#8217;m using, the following function allows me
to quick toggle the <tt class="docutils literal"><span class="pre">background</span></tt> setting:</p>
<div class="highlight-vim"><div class="highlight"><pre><span class="c">&quot; Map Shift-F12 to switch between light and dark</span>
<span class="k">function</span><span class="p">!</span> Switch_background<span class="p">()</span>
    <span class="k">if</span> &amp;<span class="nb">background</span> <span class="p">==</span> <span class="s2">&quot;light&quot;</span>
        <span class="k">set</span> <span class="nb">background</span><span class="p">=</span><span class="nb">dark</span>
    <span class="k">else</span>
        <span class="k">set</span> <span class="nb">background</span><span class="p">=</span><span class="nb">light</span>
    <span class="k">endif</span>
<span class="k">endfunction</span>
map <span class="p">&lt;</span>S<span class="p">-</span>F12<span class="p">&gt;</span> :<span class="k">call</span> Switch_background<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/200255">Fork this code</a></p>
<p>For some other commands such as toggling line numbering it can be much simpler:</p>
<div class="highlight-vim"><div class="highlight"><pre>map <span class="p">&lt;</span>C<span class="p">-</span>F12<span class="p">&gt;</span> :<span class="k">set</span> <span class="k">number</span><span class="p">!&lt;</span>CR<span class="p">&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/200257">Fork this code</a></p>
<p>For those times when we can&#8217;t easily flip the setting on and off or query state
in a simple manner, the solution is to store state ourselves and test that.</p>
<p>We may, for example, wish to toggle a group of settings on or off at one time.
While we could test one of the settings in the toggle function it can become
quite brittle if we change those settings ourselves.  By storing our toggle
state in a variable we can test that instead.  The final &#8211; totally contrived &#8211;
example shows how to do that:</p>
<div class="highlight-vim"><div class="highlight"><pre><span class="c">&quot; Map Mod1-F12 to toggle some vim goodness</span>
<span class="k">function</span><span class="p">!</span> EditorvsNotepad<span class="p">()</span>
    <span class="k">if</span> <span class="k">g</span>:notepad <span class="p">==</span> <span class="s2">&quot;false&quot;</span>
        <span class="k">let</span> <span class="k">g</span>:notepad<span class="p">=</span><span class="s2">&quot;true&quot;</span>
        <span class="nb">syntax</span> off
        <span class="k">set</span> <span class="k">nohlsearch</span>
        <span class="k">set</span> <span class="nb">laststatus</span><span class="p">=</span><span class="m">0</span>
    <span class="k">else</span>
        <span class="k">let</span> <span class="k">g</span>:notepad<span class="p">=</span><span class="s2">&quot;false&quot;</span>
        <span class="nb">syntax</span> <span class="k">on</span>
        <span class="k">set</span> <span class="nb">hlsearch</span>
        <span class="k">set</span> <span class="nb">laststatus</span><span class="p">=</span><span class="m">2</span>
    <span class="k">endif</span>
<span class="k">endfunction</span>
<span class="k">let</span> <span class="k">g</span>:notepad <span class="p">=</span> <span class="s2">&quot;true&quot;</span>
map <span class="p">&lt;</span>M<span class="p">-</span>F12<span class="p">&gt;</span> :<span class="k">call</span> EditorvsNotepad<span class="p">()&lt;</span>CR<span class="p">&gt;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://gist.github.com/200258">Fork this code</a></p>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Uber_pink_prompts.html" class="btn btn-neutral float-right" title="Uber pink prompts"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Three_mobile_broadband_in_linux.html" class="btn btn-neutral" title="Three mobile broadband in Linux"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../../copyright.html">Copyright</a> 2009-2014, James Rowe.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>